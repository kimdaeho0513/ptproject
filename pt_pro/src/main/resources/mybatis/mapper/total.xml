<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="totalMapper">
	<!-- 
	<select id="totalSelectAll" resultType="managementDto">
		SELECT * FROM TOTAL WHERE num = #{num}
	</select>
	<select id="totalSelectAll" resultType="managementDto">
		SELECT ID AS mngId
		     , NAME AS mngName
		     , PHONENUMBER AS mngNumber 
		  FROM TOTAL
	</select>-->
	<select id="totalSelectAll" resultType="managementDto">
		SELECT USERSCODE AS mngNum 
			 , USERID AS mngId
			 , PASSWORD AS mngPass
			 , NAME AS mngName
			 , BIRTH AS mngBirth
			 , phone AS mngPhon
			 , EMAIL AS mngEmail
			 , GENDER AS mngGender
			 , ROLES AS mngRole
		FROM USERS 
	</select>
	<select id="selectData" resultType="managementDto">
		SELECT USERSCODE AS mngNum 
			 , USERID AS mngId
			 , NAME AS mngName
			 , phone AS mngPhon
			 , ROLES AS mngRole
		FROM USERS 
		WHERE NUM = #{mngNum}
	</select>
	
	<select id="detailDatas" resultType="managementDto">
		SELECT USERSCODE AS mngNum 
			 , USERID AS mngId
			 , PASSWORD AS mngPass
			 , NAME AS mngName
			 , BIRTH AS mngBirth
			 , phone AS mngPhon
			 , EMAIL AS mngEmail
			 , GENDER AS mngGender
			 , ROLES AS mngRole
		FROM USERS 
		WHERE USERSCODE = #{mngNum}
	</select>
	
	<select id="selectMember" resultType="managementDto">
		SELECT ROLE AS mngRole
		FROM USERS 
		WHERE IN (M)
	</select>
	<select id="selectTrainer" resultType="managementDto">
		SELECT ROLES AS mngRole
		FROM USERS 
		WHERE IN (T) = ${trainer}
	</select>
</mapper>
